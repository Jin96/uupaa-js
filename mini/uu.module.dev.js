(function(){var B=document,D=window,A=D.uu,C=D.UU;A.module.dev=function(){};A.module.perf=A.klass.kiss();A.module.perf.prototype={construct:function(){this.diff=[]},run:function(J,H,G,E){this.diff.length=0;var K,F=0,I=J||1;for(;F<I;++F){K=(new Date()).getTime();G.apply(H,E||[]);this.diff.push((new Date()).getTime()-K)}},report:function(){if(!this.diff.length){return{total:0,avg:0,times:0,dump:[]}}var E=0;this.diff.forEach(function(F){E+=F});return{total:E,avg:E/this.diff.length,times:this.diff.length,dump:this.diff}}};A.module.log2=A.klass.singleton();A.module.log2.prototype={construct:function(F,E){this._id=F||"uuLog";this._uparound=E||100;this._sort=false;this._stock=[];this._line=0;this._depth=1;this._enableFilter=false;this._filterExpr=null;this._e=0},msgbox:function(G,F,E){switch(G){case C.MSG_CHANGE_READY_STATE:if(F!=="W"){break
}this._createViewPort();this._applyViewPortStyle();this._put();break;case"STYLE":A.css.set(this._e,F);break;case"SORT":this._sort=!!F;break;case"FILTER":this._enableFilter=!!F;if(E){this._filterExpr=E}break}return 0},clear:function(){if(this._e){this._e.innerHTML=""}this._stock=[];this._line=0},log:function(E){this._stock.push(A.sprintf.apply(this,arguments));this._put()},inspect:function(){var G=this,F=0,E=this._depth;A.toArray(arguments).forEach(function(H){G._stock.push(G._inspect(H,G._sort,F,E))});this._put()},_createViewPort:function(){this._e=A.id(this._id,false);if(!this._e){this._e=A.mix(B.body.appendChild(B.createElement("pre")),{id:this._id})}},_applyViewPortStyle:function(){var E="background-color: powderblue; color: black; display: none; position: absolute; width: 40em; height: 20em; right: 1em; bottom: 1em; overflow: auto;";
A.css.insertRule(A.sprintf("#%s { %s }",this._id,E));A.css.setOpacity(this._e,0.75)},_put:function(){if(this._e&&this._stock.length){A.css.show(this._e);this._e.innerHTML+="<br />"+this._stock.join(", ");this._stock.length=0;if(this._uparound&&++this._line>this._uparound){this.clear()}}},_inspect:function(G,F,H,E){if(G===null){return"null"}if(G===void 0){return"undefined"}if(A.isB(G)||A.isN(G)){return G.toString()}if(A.isS(G)){return'"'+G+'"'}if(A.isF(G)){return this._getFunctionName(G)}if(A.isE(G)){return this._inspectNode(G,F,H,E)}if(A.isA(G)){return this._inspectArray(G,F,H,E)}if(A.isFA(G)){return this._inspectFakeArray(G,F,H,E)}return this._inspectObject(G,F,H,E)},_inspectArray:function(H,G,I,E){var K=[],F,J;if(I+1>E){return"[Array...]"}for(F=0,J=H.length;F<J;++F){K.push(this._inspect(H[F],G,I+1,E))
}if(K.length<=1){return"["+K.join(", <br /> ")+"]"}return"[<br /> "+K.join(", <br /> ")+"<br />]"},_inspectFakeArray:function(H,G,I,E){var J=[],F;if(I+1>E){return"[FakeArray...]"}for(F in H){J.push(A.sprintf("%16s: %s",F,this._inspect(H[F],G,I+1,E)))}G&&J.sort();if(A.size(J)<=1){return"{"+J.join(", <br /> ")+"}"}return"{<br /> "+J.join(", <br /> ")+"<br />}"},_inspectObject:function(H,G,I,E){var J=[],F;if(I+1>E){return"{Object...}"}for(F in H){J.push(A.sprintf("%16s: %s",F,this._inspect(H[F],G,I+1,E)))}G&&J.sort();if(A.size(J)<=1){return"{"+J.join(", <br /> ")+"}"}return"{<br /> "+J.join(", <br /> ")+"<br />}"},_inspectNode:function(I,H,J,E){var K=[],F=[],G;if(J+1>E){return this._node2XPath(I)+"..."}switch(I.nodeType){case 1:F.push("(ELEMENT_NODE)");break;case 3:return'(TEXT_NODE)["'+this._chopNodeValue(I,32)+'"]';
case 8:return'(COMMENT_NODE)["'+this._chopNodeValue(I,32)+'"]';case 9:return"(DOCUMENT_NODE)";default:return A.sprintf("(NODE[type:%d])",I.nodeType)}F.push(this._node2XPath(I));I.id&&F.push(" #"+I.id);I.className&&F.push(" ."+I.className);for(G in I){if(this._enableFilter&&!this._filterExpr.test(G)){continue}switch(G){case"style":case"innerHTML":case"innerText":case"outerHTML":K.push(A.sprintf("%16s: ...",G));break;default:K.push(A.sprintf("%16s: %s",G,this._inspect(I[G],H,J+1,E)))}}H&&K.sort();return F.join("")+"{<br /> "+K.join(", <br /> ")+"<br />}"},_getFunctionName:function(E){return E.toString().replace(/function\s*([^\(]*)\([^}]*}/,"$1(){}")},_chopNodeValue:function(F,E){return F.nodeValue.substring(0,E||32).replace(/\n/,"\\n")},_node2XPath:function(I){if(!I.parentNode||I.nodeType!==1){return"/html"
}function E(L,F){var N=0,J=0,M=L.parentNode.childNodes,K=M.length;for(;J<K;++J){if(M[J].nodeType!==1){continue}if(M[J].tagName===F){++N}if(M[J]===L){return N}}return -1}var H=[],G=E(I,I.tagName);while(I&&I.nodeType===1){H.push(I.tagName.toLowerCase());I=I.parentNode}H.reverse();return"/"+H.join("/")+"["+G+"]"}};A.syslog=new A.module.log2();A.log=function(F){var E=(A.isS(F)&&F.indexOf("%")>=0&&arguments.length>1)?"log":"inspect";A.syslog[E].apply(A.syslog,arguments)};A.log.inspect=function(){A.syslog.inspect.apply(A.syslog,arguments)};A.log.clear=function(){A.syslog.clear()};A.mix(A.mix,{prefix:function(H,E,G,K){var F,J=G||"",I=J.length;if(!I){return A.mix(H,E)}if(K===void 0||K){for(F in E){H[J+F]=E[F]}}else{for(F in E){(F.indexOf(J)!==-1)?(H[F.substring(I)]=E[F]):(H[F]=E[F])}}return H}});A.mix(A.ajax,{loadSync:function(E,N,J,I){!E&&A.die("uu.ajax.loadSync","url",E);
E=A.url.abs(E),N=N||A.mute,J=J||null;var K=A.request,F=I||K.callbackFilter,L=A.uid("ajax"),Q=E.indexOf("file://")!==-1,P=D.XMLHttpRequest?new XMLHttpRequest():D.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;function O(R,H){("setRequestHeader" in P)&&P.setRequestHeader(H,R)}function G(H){(F&4)&&N(L,4,"",H||400,E,1)}if(!P){G();return }try{P.open(J?"POST":"GET",E.replace(/&amp;/,"&"),false)}catch(M){G();return }A.forEach(K.header,O);J&&O("application/x-www-form-urlencoded","Content-Type");(F&1)&&N(L,1,"",0,E,0);P.send(J);if(P.status===200||Q&&!P.status){(F&2)&&N(L,2,P.responseText,200,E,0)}else{G(P.status)}}})})();