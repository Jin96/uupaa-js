(function(){var B=document,D=window,A=D.uu,C=D.UU;A.module.ieboost=A.klass.singleton();A.module.ieboost.prototype={construct:function(F){this._param=A.mix.param(F||{},{maxmin:true,alphapng:true,opacity:true});A.event.set(this,D,"resize");var E=this._param;if(A.ua.version>6&&A.ua.version<5.5){E.maxmin=false;E.alphapng=false}if(A.module.already("ui")){A.msg.post(A.customEvent,"SET","FONT_RESIZE",this.uid)}this._maxmin=E.maxmin?new A.module.ieboost.maxmin():0;this._alphapng=E.alphapng?new A.module.ieboost.alphapng():0;this._opacity=E.opacity?new A.module.ieboost.opacity():0;if(E.maxmin){}},handleEvent:function(E){var F=A.event.toType(E);switch(F){case"resize":this._maxmin&&this._maxmin.draw();break}},msgbox:function(G,F,E){switch(G){case C.MSG_EVENT_DOM_MANIP:this._maxmin&&this._maxmin.recalc();
break;case"FONT_RESIZE":this._maxmin&&this._maxmin.recalc();break}return 0}};A.module.ieboost.maxmin=A.klass.kiss();A.module.ieboost.maxmin.prototype={construct:function(){this._lock=0;this._mark=this._markup();this.draw()},recalc:function(){if(!this._mark.length){return }this._mark=this._markup();this._mark.length&&this.draw()},draw:function(){if(this._lock){return }var E=this;function H(){E._lock=1}function G(){E._lock=0}function F(){H();E._mark.forEach(function(I){var J=I.uuMaxMin;if(J.w0!==-1||J.w2!==-1){E._resizeWidth(I)}if(J.h0!==-1||J.h2!==-1){E._resizeHeight(I)}});A.delay(G,40)}A.delay(F,40)},_resizeWidth:function(J){var I=J.uuMaxMin,G=J.style,F;function E(){if(I.w0===-1){return false}G.width=I.w0;return(J.clientWidth>F)?true:false}function H(){if(I.w2===-1){return false}G.width=I.w2;
return(J.clientWidth<F)?true:false}G.width=I.width;F=J.clientWidth;if(!E()&&!H()){G.width=I.width}},_resizeHeight:function(J){var I=J.uuMaxMin,G=J.style,F;function E(){if(I.h0===-1){return false}G.height=I.h0;return(J.clientHeight>F)?true:false}function H(){if(I.h2===-1){return false}G.height=I.h2;return(J.clientHeight<F)?true:false}G.height=I.height;F=J.clientHeight;if(!E()&&!H()){G.height=I.height}},_markup:function(){var M=[],H,L,E,G,K,J;function I(O,N,F){if(!N||N==="auto"||N==="none"){return -1}if(N.lastIndexOf("%")!==-1){switch(F){case"width":J=A.css.rect(O.parentNode);return J.w*parseFloat(N)/100;case"height":J=A.css.rect(O.parentNode);return J.w*parseFloat(N)/100;break}return -1}return(isNaN(N))?A.css.toPixel(O,N,F):-1}A.forEach(A.tag("*",document.body),function(F){if(!A.css.isBlock(F)){return 
}H=F.currentStyle;if(!F.uuMaxMin){K=F.getBoundingClientRect();E=H.width,G=H.height;if(H.width.lastIndexOf("%")===-1){E=(H.width==="auto")?(K.right-K.left):F.clientWidth;E+="px"}if(H.height.lastIndexOf("%")===-1){G=(H.height==="auto")?(K.bottom-K.top):F.clientHeight;G+="px"}F.uuMaxMin={width:E,height:G,"min-width":H["min-width"],"max-width":H["max-width"],"min-height":H.minHeight,"max-height":H["max-height"]}}L=F.uuMaxMin;A.mix(L,{w0:I(F,L["min-width"],"width"),w2:I(F,L["max-width"],"width"),h0:I(F,L["min-height"],"height"),h2:I(F,L["max-height"],"height")});if(L.w0!==-1&&L.w2!==-1&&L.w0>L.w2){L.w2=L.w0}if(L.h0!==-1&&L.h2!==-1&&L.h0>L.h2){L.h2=L.h0}if(L.w0===-1&&L.w2===-1&&L.h0===-1&&L.h2===-1){return }M.push(F)});return M}};A.module.ieboost.alphapng=A.klass.kiss();A.module.ieboost.alphapng.prototype={construct:function(E){A.css.insertRule("img { behavior: expression(uu.module.ieboost.alphapng._expression(this)) }");
A.css.insertRule(".png { behavior: expression(uu.module.ieboost.alphapng._expression(this)) }");A.css.insertRule("input { behavior: expression(uu.module.ieboost.alphapng._expression(this)) }");A.css.insertRule(".alpha { behavior: expression(uu.module.ieboost.alphapng._expression(this)) }")}};A.mix(A.module.ieboost.alphapng,{_expression:function(L){var K=A.config.imagePath,G="b32.png",I=RegExp(G),F,E,H,J=0;switch(L.tagName.toLowerCase()){case"img":if(/.png$/i.test(L.src)){if(I.test(L.src)){break}L.uupaa_ieboost_alphapngsrc=L.src;E=L.width;H=L.height;A.module.ieboost.alphapng._setAlphaLoader(L,L.src,"image");L.src=K+G;L.width=E;L.height=H;++J}else{if(!I.test(L.src)){L.uupaa_ieboost_alphapngsrc=L.src;A.module.ieboost.alphapng._unsetAlphaLoader(L);L.style.width="auto";L.style.height="auto"}}break;
case"input":if(L.type!=="image"){break}if(/.png$/i.test(L.src)){if(I.test(L.src)){break}L.uupaa_ieboost_alphapngsrc=L.src;A.module.ieboost.alphapng._setAlphaLoader(L,L.src,"image");L.src=K+G;L.style.zoom=1;++J}else{if(!I.test(L.src)){L.uupaa_ieboost_alphapngsrc=L.src;A.module.ieboost.alphapng._unsetAlphaLoader(L);L.style.width="auto";L.style.height="auto"}}break;default:F=A.css.backgroundImage(L);if(F==="none"){A.module.ieboost.alphapng._unsetAlphaLoader(L);break}if(I.test(F)){break}if(/.png$/i.test(F)){A.module.ieboost.alphapng._setAlphaLoader(L,F,"crop");L.style.backgroundImage="url("+K+G+")";L.style.zoom=1;++J}else{A.module.ieboost.alphapng._unsetAlphaLoader(L)}}if(J){A.module.ieboost.alphapng._bugfix(L)}if(!("uupaa_ieboost_alphapngspy" in L)){L.attachEvent("onpropertychange",A.module.ieboost.alphapng._onpropertychange);
L.uupaa_ieboost_alphapngspy=1}L.style.behavior="none"},_onpropertychange:function(){var E=D.event;switch(E.propertyName){case"style.backgroundImage":case"src":A.module.ieboost.alphapng._expression(E.srcElement);break}},_setAlphaLoader:function(H,E,G){var F="DXImageTransform.Microsoft.AlphaImageLoader";if(H.filters.length&&F in H.filters){H.filters[F].enabled=1;H.filters[F].src=E}else{H.style.filter+=" progid:"+F+"(src='"+E+"', sizingMethod='"+G+"')"}},_unsetAlphaLoader:function(F){var E="DXImageTransform.Microsoft.AlphaImageLoader";if(F.filters.length&&E in F.filters){F.filters[E].enabled=0}},_bugfix:function(I){var E=0,G=I.childNodes.length,H;function F(J){switch(J.tagName.toLowerCase()){case"a":J.style.cursor="pointer";case"input":case"select":case"textarea":!J.style.position&&(J.style.position="relative")
}}F(I);for(;E<G;++E){H=I.childNodes[E];if(H.nodeType===1){F(H);H.firstChild&&A.module.ieboost.alphapng._bugfix(H)}}}});A.module.ieboost.opacity=A.klass.kiss();A.module.ieboost.opacity.prototype={construct:function(){var F,E;A.forEach(A.tag("*",B.body),function(G){E=G.style.opacity||G.currentStyle.opacity;if(E){F=parseFloat(E);if(F>=0&&F<=1){A.css.setOpacity(G,F)}}})}};A.ieboost=0;if(A.ua.ie){A.ready(function(){A.ieboost=new A.module.ieboost()})}})();