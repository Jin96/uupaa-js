(function(){var B=document,D=window,A=D.uu,C=D.UU;A.module.dev=function(){};A.module.perf=A.klass.kiss();A.module.perf.prototype={construct:function(E){this._ad=E===void 0||E;this._diff=[];this._lastCost=0},_cost:function(E,L){var K=0,G,J=0,I=[],H=0,F=A.mute;K=A.time();while(L--){G=A.time(),J=E+1;while(--J){F()}H=A.time()-G-0;I.push(H<0?0:H)}return A.time()-K},run:function(H,E,L){this._diff.length=0;E=E||1,L=L||1;L+=(this._ad?4:0);var G,J=0,K=this._cost(E,L),I=0;while(L--){G=A.time(),J=E+1;while(--J){H()}I=A.time()-G-K;this._diff.push(I<0?0:I)}function F(N,M){return N-M}if(this._ad){this._diff.sort(F);this._diff.pop();this._diff.pop();this._diff.shift();this._diff.shift()}this._lastCost=K},report:function(){if(!this._diff.length){return{total:0,avg:0,set:0,dump:[],cost:0}}var E=0;this._diff.forEach(function(F){E+=F
});return{total:E,avg:E/this._diff.length,set:this._diff.length,dump:this._diff,cost:this._lastCost}},toString:function(){var E=this.report();return A.sprintf("total=%dms avg=%dms set=%d (cost=%dms)",E.total,E.avg,E.set,E.cost)}};A.module.log2=A.klass.singleton();A.module.log2.prototype={construct:function(G,E){this._id=G||"uuLog";this._uparound=E||100;this._sort=false;this._stock=[];this._line=0;this._depth=1;this._enableFilter=false;this._filterExpr=null;this._e=0;var F=this;A.ready(function(){F._createViewPort();F._applyViewPortStyle();F._put()},"D")},msgbox:function(G,F,E){switch(G){case"SET":this._set(F[0]||"",F[1]||0,F[2]||0);break}return 0},_set:function(E,G,F){switch(E){case"SORT":this._sort=!!G;break;case"FILTER":this._enableFilter=!!G;rgexp&&(this._filterExpr=F);break;case"RECT":A.css.setRect(this._e,G);
break;case"DEPTH":this._depth=G;break}},clear:function(){if(this._e){this._e.innerHTML=""}this._stock=[];this._line=0},log:function(E){this._stock.push(this._sprintf.apply(this,arguments));this._put()},inspect:function(){var H=this,G=0,E=this._depth,F=0,I=arguments.length;for(;F<I;++F){H._stock.push(H._inspect(arguments[F],H._sort,G,E))}this._put()},hex:function(F){var H=[],E,L=F,G=0,M=["<br />"],I=[" "],J,K=parseInt(L.length/16);for(J=0;J<K;G+=16,++J){H.push(A.sprintf("<br />%02X %02X %02X %02X %02X %02X %02X %02X  %02X %02X %02X %02X %02X %02X %02X %02X  %A%A%A%A%A%A%A%A%A%A%A%A%A%A%A%A",L[G+0],L[G+1],L[G+2],L[G+3],L[G+4],L[G+5],L[G+6],L[G+7],L[G+8],L[G+9],L[G+10],L[G+11],L[G+12],L[G+13],L[G+14],L[G+15],L[G+0],L[G+1],L[G+2],L[G+3],L[G+4],L[G+5],L[G+6],L[G+7],L[G+8],L[G+9],L[G+10],L[G+11],L[G+12],L[G+13],L[G+14],L[G+15]))
}if(L.length%16){E=Array(16);for(J=0;J<L.length%16;++J){E[J]=L[G+J];(J===8)&&M.push(" ");M.push("%02X ");I.push("%A")}for(;J<16;++J){E[J]=0;M.push("   ");I.push(" ")}H.push(A.sprintf(M.join(""),E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8],E[9],E[10],E[11],E[12],E[13],E[14],E[15]));H.push(A.sprintf(I.join(""),E[0],E[1],E[2],E[3],E[4],E[5],E[6],E[7],E[8],E[9],E[10],E[11],E[12],E[13],E[14],E[15]))}this._stock.push(H.join(""));this._put()},_sprintf:function(W){var G=arguments,K=1,Y=0,O={o:"0",x:"0x",X:"0X"},X=parseInt,Z=parseFloat,Q=isNaN,E=String.fromCharCode,S=this;function M(I,F,U,N,b,a,T,P){Y=F?X(F):K++;switch(T){case"i":case"d":P=X(J(Y)).toString();break;case"u":P=X(J(Y));!Q(P)&&(P=H(P).toString());break;case"o":P=X(J(Y));!Q(P)&&(P=S.inspect(P));break;case"x":P=X(J(Y));!Q(P)&&(P=L(T,H(P).toString(16),U));
break;case"X":P=X(J(Y));!Q(P)&&(P=L(T,H(P).toString(16).toUpperCase(),U));break;case"f":P=Z(J(Y)).toFixed(b);break;case"c":N=0;P=J(Y);P=(typeof P==="number")?E(P):"";break;case"A":N=0;P=J(Y);P=(typeof P==="number")?R(P):"";break;case"s":P=J(Y).toString();b&&(P=P.substring(0,b));break;case"%":P="%";break}return(P.length<N)?V(T,P,U||" ",N-P.length):P}function R(F){return(F<32||F>126)?".":E(F)}function V(I,F,N,P){if(N==="0"&&(I==="d"||I==="f")&&F.indexOf("-")!==-1){return"-"+Array(P+1).join("0")+F.substring(1)}return Array(P+1).join((N==="#")?" ":N)+F}function L(I,F,N){return(N!=="#")?F:O[I]+F}function J(F){return(G[F]===void 0)?"undefined":G[F]}function H(F){return(F>=0)?F:F%4294967296+4294967296}return W.replace(/%(?:([\d]+)\$)?(#|0)?([\d]+)?(?:\.([\d]+))?(l)?([%iduoxXfcAs])/g,M)},_createViewPort:function(){this._e=B.getElementById(this._id);
if(!this._e){this._e=A.mix(B.body.appendChild(B.createElement("pre")),{id:this._id})}},_applyViewPortStyle:function(){var E="background-color: powderblue; color: black; display: none; position: absolute; width: 40em; height: 20em; right: 1em; bottom: 1em; overflow: auto;";A.css.insertRule(A.sprintf("#%s { %s }",this._id,E));A.css.setOpacity(this._e,0.75)},_put:function(){if(this._e&&this._stock.length){A.css.show(this._e);this._e.innerHTML+="<br />"+this._stock.join(", ");this._stock.length=0;if(this._uparound&&++this._line>this._uparound){this.clear()}}},_inspect:function(G,F,H,E){try{if(G===null){return"null"}if(G===void 0){return"undefined"}if(A.isB(G)||A.isN(G)){return G.toString()}if(A.isS(G)){return'"'+G+'"'}if(A.isF(G)){return this._getFunctionName(G)}if(A.isE(G)){return this._inspectNode(G,F,H,E)
}if(!A.ua.ie&&G instanceof NodeList){return this._inspectNodeList(G,F,H,E)}if(A.ua.gecko&&G instanceof HTMLCollection){return this._inspectNodeList(G,F,H,E)}if(A.isA(G)){return this._inspectArray(G,F,H,E)}if(A.isFA(G)){return this._inspectFakeArray(G,F,H,E)}if("r" in G&&"g" in G&&"b" in G&&"a" in G){return this._inspectRGBAHash(G,F,H,E)}return this._inspectObject(G,F,H,E)}catch(I){}return"*** catch Exception ***"},_inspectRGBAHash:function(G,F,H,E){return A.sprintf("[%02X %02X %02X %.1f]",G.r,G.g,G.b,G.a)},_inspectNodeList:function(H,G,I,E){var K=[],F,J;if(I+1>E){return A.sprintf("ElementArray@%d[...]",H.length)}for(F=0,J=H.length;F<J;++F){K.push(this._inspectNode(H[F],G,I+1,E))}if(K.length<=1){return A.sprintf("ElementArray@%d[%s]",H.length,K.join(", <br /> "))}if(K.length<=4){return A.sprintf("ElementArray@%d[%s]",H.length,K.join(", "))
}return A.sprintf("ElementArray@%d[<br /> %s<br />]",H.length,K.join(", <br /> "))},_inspectArray:function(H,G,I,E){var K=[],F,J;if(I+1>E){return A.sprintf("Array@%d[...]",H.length)}for(F=0,J=H.length;F<J;++F){K.push(this._inspect(H[F],G,I+1,E))}if(K.length<=1){return A.sprintf("Array@%d[%s]",H.length,K.join(", <br /> "))}if(K.length<=4){return A.sprintf("Array@%d[%s]",H.length,K.join(", "))}return A.sprintf("Array@%d[<br /> %s<br />]",H.length,K.join(", <br /> "))},_inspectFakeArray:function(H,G,I,E){var J=[],F;if(I+1>E){return A.sprintf("FakeArray@%d[...]",H.length)}for(F in H){J.push(A.sprintf("%s: %s",F,this._inspect(H[F],G,I+1,E)))}G&&J.sort();if(A.size(J)<=1){return A.sprintf("FakeArray@%d[%s]",H.length,J.join(", <br /> "))}return A.sprintf("FakeArray@%d[<br /> %s<br />]",H.length,J.join(", <br /> "))
},_inspectObject:function(H,G,I,E){var J=[],F;if(I+1>E){return A.sprintf("Hash@%d{...}",A.size(H))}for(F in H){J.push(A.sprintf("%s: %s",F,this._inspect(H[F],G,I+1,E)))}G&&J.sort();if(A.size(J)<=1){return A.sprintf("Hash@%d{%s}",A.size(J),J.join(", <br /> "))}return A.sprintf("Hash@%d{<br /> %s<br />}",A.size(J),J.join(", <br /> "))},_inspectNode:function(I,H,J,E){var K=[],F=[],G;if(J+1>E){return A.sprintf("%s",this._node2XPath(I))}switch(I.nodeType){case 1:F.push("(ELEMENT_NODE)");break;case 3:return'(TEXT_NODE)["'+this._chopNodeValue(I,32)+'"]';case 8:return'(COMMENT_NODE)["'+this._chopNodeValue(I,32)+'"]';case 9:return"(DOCUMENT_NODE)";default:return A.sprintf("(NODE[type:%d])",I.nodeType)}F.push(this._node2XPath(I));I.id&&F.push(" #"+I.id);I.className&&F.push(" ."+I.className);for(G in I){if(this._enableFilter&&!this._filterExpr.test(G)){continue
}switch(G){case"style":case"innerHTML":case"innerText":case"outerHTML":K.push(A.sprintf("%s: ...",G));break;default:K.push(A.sprintf("%s: %s",G,this._inspect(I[G],H,J+1,E)))}}H&&K.sort();return F.join("")+"{<br /> "+K.join(", <br /> ")+"<br />}"},_getFunctionName:function(E){return E.toString().replace(/function\s*([^\(]*)\([^}]*}/,"$1(){}")},_chopNodeValue:function(F,E){return F.nodeValue.substring(0,E||32).replace(/\n/,"\\n")},_node2XPath:function(I){if(!I.parentNode||I.nodeType!==1){return"/html"}function E(L,F){var N=0,J=0,M=L.parentNode.childNodes,K=M.length;for(;J<K;++J){if(M[J].nodeType!==1){continue}if(M[J].tagName===F){++N}if(M[J]===L){return N}}return -1}var H=[],G=E(I,I.tagName);while(I&&I.nodeType===1){H.push(I.tagName.toLowerCase());I=I.parentNode}H.reverse();return"/"+H.join("/")+"["+G+"]"
}};A.syslog=new A.module.log2();A.log=function(F){var E=(A.isS(F)&&F.indexOf("%")>=0&&arguments.length>1)?"log":"inspect";A.syslog[E].apply(A.syslog,arguments)};A.mix(A.log,{debug:function(E){A.log.apply(A.syslog,arguments)},error:function(E){A.log.apply(A.syslog,arguments)},warn:function(E){A.log.apply(A.syslog,arguments)},info:function(E){A.log.apply(A.syslog,arguments)},dir:function(){A.syslog.inspect.apply(A.syslog,arguments)},clear:function(){A.syslog.clear()},hex:function(){A.syslog.hex.apply(A.syslog,arguments)},set:function(){A.msg.post(A.syslog,"SET",arguments)}});A.mix(A.mix,{prefix:function(H,E,G,K){var F,J=G||"",I=J.length;if(!I){return A.mix(H,E)}if(K===void 0||K){for(F in E){H[J+F]=E[F]}}else{for(F in E){(F.indexOf(J)!==-1)?(H[F.substring(I)]=E[F]):(H[F]=E[F])}}return H}});A.mix(A.ajax,{loadSync:function(E,N,J,I){!E&&A.die("uu.ajax.loadSync","url",E);
E=A.url.abs(E),N=N||A.mute,J=J||null;var K=A.request,F=I||K.callbackFilter,L=A.uid("ajax"),Q=E.indexOf("file://")!==-1,P=D.XMLHttpRequest?new XMLHttpRequest():D.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;function O(R,H){("setRequestHeader" in P)&&P.setRequestHeader(H,R)}function G(H){(F&4)&&N(L,4,"",H||400,E,1)}if(!P){G();return }try{P.open(J?"POST":"GET",E.replace(/&amp;/,"&"),false)}catch(M){G();return }A.forEach(K.header,O);J&&O("application/x-www-form-urlencoded","Content-Type");(F&1)&&N(L,1,"",0,E,0);P.send(J);if(P.status===200||Q&&!P.status){(F&2)&&N(L,2,P.responseText,200,E,0)}else{G(P.status)}}})})();