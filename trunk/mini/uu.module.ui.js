(function(){var B=document,D=window,A=D.uu,C=D.UU;A.module.ui={};A.ui=function(){};A.ui.inner=function(){return{iw:D.innerWidth,ih:D.innerHeight,sw:D.pageXOffset,sh:D.pageYOffset}};if(A.ua.ie){if(A.ua.std){A.ui.inner=function(){var E=B.documentElement;return{iw:E.clientWidth,ih:E.clientHeight,sw:E.scrollLeft,sh:E.scrollTop}}}else{A.ui.inner=function(){var E=B.body;return{iw:E.clientWidth,ih:E.clientHeight,sw:E.scrollLeft,sh:E.scrollTop}}}}A.ui.element=function(H){var F=H,E=0,G=0;while(F){E+=F.offsetLeft||0;G+=F.offsetTop||0;F=F.offsetParent}return{x:E,y:G,w:H.offsetWidth,h:H.offsetHeight,cw:H.clientWidth,ch:H.clientHeight}};if("getBoundingClientRect" in B){A.ui.element=function(G){var E=G.getBoundingClientRect(),F=A.ui.inner();return{x:F.sw+E.left-2,y:F.sh+E.top-2,w:G.offsetWidth,h:G.offsetHeight,cw:G.clientWidth,ch:G.clientHeight}
}}A.ui.element.offsetParent=function(I){var G=I,E=0,H=0,F;while(G){E+=G.offsetLeft||0;H+=G.offsetTop||0;G=G.offsetParent;if(G){F=A.css.get(G,"position");if(F==="relative"||F==="absolute"){break}}}return{x:E,y:H,w:I.offsetWidth,h:I.offsetHeight,cw:I.clientWidth,ch:I.clientHeight}};A.ui.element.toAbsolute=function(G,E){var F=A.ui.element(G);E=A.mix.param(E||{},{position:"absolute",left:F.x+"px",top:F.y+"px"});A.css.set(G,E);return G};A.ui.element.toStatic=function(F,E){E=A.mix.param(E||{},{position:"static",left:0,top:0});A.css.set(F,E);return F};A.ui.inRect=function(F,H){var E=F,G=H;return(G.x>E.x&&G.x<E.x+E.w)&&(G.y>E.y&&G.y<E.y+E.h)};A.event.key=function(){};A.event.key.state=function(E){return{shift:E.shiftKey,ctrl:E.ctrlKey,alt:E.altKey,key:(E.which)?E.which:D.keyCode}};A.event.mouse=function(){};
A.event.mouse.pos=function(E){return{x:E.pageX,y:E.pageY}};if(A.ua.ie){A.event.mouse.pos=function(E){var F=A.ui.inner();return{x:E.clientX+F.sw,y:E.clientY+F.sh}}}A.event.mouse.posEx=function(E){return{x:E.pageX,y:E.pageY,cx:E.clientX,cy:E.clientY,ox:E.layerX,oy:E.layerY}};if(A.ua.opera){A.event.mouse.posEx=function(E){return{x:E.pageX,y:E.pageY,cx:E.clientX,cy:E.clientY,ox:E.offsetX,oy:E.offsetY}}}else{if(A.ua.ie){A.event.mouse.posEx=function(E){var F=A.ui.inner();return{x:E.clientX+F.sw,y:E.clientY+F.sh,cx:E.clientX,cy:E.clientY,ox:E.offsetX,oy:E.offsetY}}}}A.event.mouse.offsetElement=function(E,G){var F=A.event.mouse.pos(E);return{x:F.x-parseInt(G.style.left),y:F.y-parseInt(G.style.top)}};A.event.mouse.state=function(E){var F={left:0,mid:0,right:0,click:0,wheel:0};if(A.ua.gecko||E.which){switch(E.which){case 1:F.left=1;
break;case 2:F.mid=1;break;case 3:F.right=1;break}F.click=E.detail&3}else{if(A.ua.ie||E.button){if(E.button&1){F.left=1}if(E.button&4){F.mid=1}if(E.button&2){F.right=1}}}if(E.wheelDelta||E.detail){F.wheel=parseInt(E.detail?(E.detail/3):(E.wheelDelta/-120))}return F};A.event.clicks=function(G,E,F){G.uuClicks={idx:0,max:F||2,fn:E};A.event.set(G,"click",A.event.clicks._impl)};A.event.clicks._impl=function(E){(A.ua.ie)?(E.returnValue=false):E.preventDefault();var F=A.event.target(E).real.uuClicks;F.fn((++F.idx>=F.max)?(F.idx=0):F.idx)};A.event.custom=function(){};A.event.custom.fontResize=A.klass.singleton();A.event.custom.fontResize.prototype={construct:function(E){this.delay=E||1000;this.spy=document.createElement("div");A.css.set(this.spy,{className:"spy",position:"absolute",fontSize:"large",visibility:"hidden",height:"1em",top:"-10em",left:"-10em"});
B.body.appendChild(this.spy);this.spyHeight=this.spy.offsetHeight;var F=this;function G(){var H=F.spy.offsetHeight;if(F.spyHeight!==H){F.spyHeight=H;A.msgpump.post(0,C.MSG_EVENT_FONT_RESIZE)}}A.tm10.set(G,this.delay)}}})();