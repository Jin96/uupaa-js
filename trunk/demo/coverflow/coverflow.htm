<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>uupaa.js - uu.module.coverflow test</title>
<!--[if IE]><script id="excanvas.js" type="text/javascript" src="http://pigs.sourceforge.jp/excanvas.js"></script><![endif]-->
<script id="uupaa.js" type="text/javascript" src="../../uupaa.js?module=dev,canvas,coverflow"></script>
<style>
body {
  background-color: black;
  color: white;
}
#canvas0 {
  position: absolute;
  top: 10em;
  left: 0;
  z-index: 0;
}
img {
  display: none;
}
</style>
</head>
<body>
<a href="../../README.htm#dev">README</a> &gt; uu.module.coverflow.js<br />
<p>Cover Flowの簡易実装です。<br />
画像を動的に読み込んだりもしていないので、実際に何ができるわけではありませんが、<br />
JavaScriptの可能性を見せるデモにはなると思います。</p>
<p>DELLやHPで購入可能な5万円台のローエンドノートPC + Firefox2用に動作速度を合わせてあるので、Firefox3や高性能PCでは意図した動作とは異なります。</p>
<p>10秒ほど待っても何も表示されない場合は画像の読み込みに失敗している可能性があります。<br />リロードで解決できる場合があります。</p>

<canvas id="canvas0" width="640" height="320"></canvas>
<img id="bg0" src="./bg.jpg" alt="" />
<img id="cover0" src="./SANY0087.jpg" alt="" />
<img id="cover1" src="./SANY0091.jpg" alt="" />
<img id="cover2" src="./SANY0093.jpg" alt="" />
<img id="cover3" src="./SANY0156.jpg" alt="" />
<img id="cover4" src="./SANY0159.jpg" alt="" />
<img id="cover5" src="./SANY0169.jpg" alt="" />
<img id="cover6" src="./SANY0180.jpg" alt="" />
<img id="cover7" src="./SANY0184.jpg" alt="" />
<img id="cover8" src="./SANY0187.jpg" alt="" />
<img id="cover9" src="./SANY0190.jpg" alt="" />
<img id="cover10" src="./SANY0192.jpg" alt="" />
<img id="cover11" src="./SANY0204.jpg" alt="" />
<img id="cover12" src="./SANY0206.jpg" alt="" />
<img id="cover13" src="./cover0.jpg" alt="" />

<script type="text/javascript">

var cfbtn = false;

var msgobj = {
  uid: uu.uid(),
  msgbox: function(msg, p1, p2) {
    switch (msg) {
    case "PRELOAD_IMAGE_OK":
      boot();
      break;
    case "PRELOAD_IMAGE_NG":
      alert("Sorry fail boot.");
      break;
    }
  }
};

function preload() {
  uu.msg.set(msgobj);
  uu.msg.post(uu.imageset, "PRELOAD_IMAGE", msgobj.uid,
    ["./bg.jpg", "./SANY0087.jpg", "./SANY0091.jpg", "./SANY0093.jpg", "./SANY0156.jpg",
     "./SANY0159.jpg", "./SANY0169.jpg", "./SANY0180.jpg", "./SANY0184.jpg",
     "./SANY0187.jpg", "./SANY0190.jpg", "./SANY0192.jpg", "./SANY0204.jpg",
     "./SANY0206.jpg", "./cover0.jpg"]);
}
function boot() {
// alert("boot");
  var fn1 = function(view) {
    view.style.color = "white";
    view.innerHTML = "title: unknown<br />album: unknown";
  };
  var fn2 = function(view) {
    view.style.color = "white";
    view.innerHTML = "";
  };
  var fn3 = function(view) {
    view.style.color = "red";
    view.innerHTML = "PLAY...";
  };

  var cf = new uu.module.coverflow(uu.id("canvas0"), { x: 100, y: 100 }, 160);
  cf.setContentImage("bg0");
  cf.load([
      { id: "cover0",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover1",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover2",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover3",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover4",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover5",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover6",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover7",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover8",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover9",  show: fn1, hide: fn2, exec: fn3 },
      { id: "cover10", show: fn1, hide: fn2, exec: fn3 },
      { id: "cover11", show: fn1, hide: fn2, exec: fn3 },
      { id: "cover12", show: fn1, hide: fn2, exec: fn3 },
      { id: "cover13", show: fn1, hide: fn2, exec: fn3 }
  ]);
  cf.draw();
}
uu.ready(preload, "WC");
//uu.canvas.ready(boot);
</script>
<!--
<input type="button" value="btn" onclick="window.cfbtn = !!!window.cfbtn" />
-->

</body>
</html>
