<!doctype html><html><head><meta charset="utf-8" />
<title>uu.tween.effect test</title>
<script src="../../src/uupaa.js"></script>
<script src="../../src/Tween/easing.js"></script>
<script src="../../src/Tween/uu.tween.effect.js"></script>
<script src="../../src/Color/uu.color.js"></script>
<script src="../../src/Query/uu.query.js"></script>
<script src="../../src/Node/uu.node.clone.js"></script>
<style>
html, body {
  overflow: hidden;
}
.box {
  position: absolute;
  width: 100px;
  height: 100px;
  outline: 0px silver solid;
  background-color: #73ff00;
  color: white;
  text-align: center;
}

.margin10  { margin:  10px; }
.padding10 { padding: 10px; }
.border10  { border:  10px double turquoise; }
.outline10 { outline: 10px solid springgreen; }

</style>
</head><body id="body">
<div>
  <div>
    STYLE:
    <input type="button" value="margin" onclick="toggleMargin()" />
    <input type="button" value="padding" onclick="togglePadding()" />
    <input type="button" value="border" onclick="toggleBorder()" />
    <input type="button" value="outline" onclick="toggleOutline()" /> |
  </div>
</div>

DURATION: <input type="range" step="50" value="300" min="0" max="2000" onchange="moveDuration(this)" />
    <span id="durationValue">300</span>
    <br />
RANGE: <input type="range" step="50" value="200" min="100" max="400" onchange="moveRange(this)" />
    <span id="rangeValue">200</span>
    <br />
PARTS: <input type="range" step="1" value="10" min="1" max="20" onchange="moveParts(this)" />
    <span id="partsValue">10</span>

<script>
var speed = 300;
var range = 200;
var parts = 10;
var degree = 270;
var bgcolor = uu.color("#73ff00");

function moveDuration(that) {
    speed = that.value
    uu.text(uu.id("durationValue"), speed);
    bgcolor = bgcolor.arrange(3, 100, 100);

    uu("div.box").css("bgc", bgcolor + "");
}
function moveRange(that) {
    range = that.value
    uu.text(uu.id("rangeValue"), range);
}
function moveParts(that) {
    parts = that.value
    uu.text(uu.id("partsValue"), parts);
}

function fade(evt, node) {
    uu.tween.fade(node, speed, { r: 1 });
}

function movein(evt, node) {
    degree += 10;
    if (degree > 360) {
        degree = 0;
    }
    uu.tween.movein(node, speed, { degree: degree, range: range });
}

function moveout(evt, node) {
    degree += 10;
    if (degree > 360) {
        degree = 0;
    }
    uu.tween.moveout(node, speed, { r: 1, degree: degree, range: range });
}

/*
function flare(evt, node) {
    var opacity = uu.css.getOpacity(node), newNode;

    uu.css.setOpacity(node, 0.5);

    for (var i = 0; i < 360; i += 24) {
        newNode = uu.node.add(uu.node.clone(node));

        uu.tween.moveout(newNode, speed, { degree: i, after: function(newNode) {
            uu.node.remove(newNode);
        }});
    }

    uu.tween(node, speed, function() {
        uu.css.setOpacity(node, opacity);
    });
}
 */
function flare(evt, node) {
    uu.tween.flare(node, speed, { parts: 10, range: range, parts: parts });
}

function puff(evt, node) {
    uu.tween.puff(node, speed, { r: 1 });
}

function shrink(evt, node) {
    uu.tween.shrink(node, speed, { r: 1 });
}

function highlight(evt, node) {
    uu.tween.highlight(node, speed, { r: 1 });
}

uu.ready(function(uu) {
    var x = 0;
    var y = 0;
    var margin = 10;

    uu.each({ movein: movein, moveout: moveout, flare: flare,
              fade: fade, puff: puff, shrink: shrink,
              highlight: highlight }, function(fn, key) {

        uu.body(uu.click(uu.div("class,box", { x: x + 100, y: y + 200 }, key), fn));

        x += 100 + margin;
        if (x > (100 + margin) * 5) {
            y += 100 + margin;
            x = 0;
        }
    });
});

function toggleMargin() {
    uu("div.box").klass("!margin10");
}
function togglePadding() {
    uu("div.box").klass("!padding10");
}
function toggleBorder() {
    uu("div.box").klass("!border10");
}
function toggleOutline() {
    uu("div.box").klass("!outline10");
}

</script>
</body></html>
